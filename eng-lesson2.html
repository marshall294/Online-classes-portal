<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Mathcloud Tutorial â€” Grade 5 English Week 2 | Marshall Jacob</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent:#2b6cb0;
      --muted:#6b7280;
      --bg:#f7fafc;
      --card:#ffffff;
      --glass: rgba(255,255,255,0.7);
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#f0f7ff 0%,var(--bg) 60%);color:#0f172a;line-height:1.45}
    header{background:transparent;padding:20px 18px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7dd3fc);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px}
    nav{display:flex;gap:10px;align-items:center}
    nav a{color:var(--accent);text-decoration:none;font-weight:600}
    .container{max-width:1100px;margin:18px auto;padding:18px}.hero{display:grid;grid-template-columns:1fr;gap:18px;align-items:center;padding:18px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.9), var(--glass));box-shadow:0 8px 30px rgba(2,6,23,0.06)}
.hero h1{margin:0;font-size:28px}
.meta{color:var(--muted);font-size:14px}
.grid{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}

/* left column cards */
.card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(11,15,30,0.04)}
.section-title{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.section-title h2{margin:0;font-size:18px}
.lesson p{margin:8px 0}
.rule{padding:10px;background:#f1f5f9;border-radius:8px;margin:8px 0}
.examples{display:grid;gap:8px}
.example{padding:10px;border-radius:8px;background:linear-gradient(90deg,#fff,#fbfdff);border:1px solid #eef2ff}

/* right column */
.sticky{position:sticky;top:20px}
.listen-btn{display:inline-flex;gap:8px;align-items:center;background:var(--accent);color:white;padding:8px 12px;border-radius:8px;border:none}
.accordion{border-radius:10px;overflow:hidden}
.accordion .item{border-bottom:1px solid #eef2ff;padding:12px}
.accordion .item:last-child{border-bottom:none}
.accordion button{width:100%;text-align:left;background:none;border:none;padding:0;font-size:16px;display:flex;justify-content:space-between;align-items:center}

/* Word Map tool */
.wordmap{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.wordcard{padding:12px;border-radius:8px;background:#fff;border:1px solid #eef2ff}

/* Assessment */
.q-row{margin:10px 0}
input[type=text], select, textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #e6edf3}
button.cta{background:var(--accent);color:white;padding:10px 14px;border-radius:8px;border:none;font-weight:700}

footer{text-align:center;color:var(--muted);margin:36px 0}

/* responsive */
@media (max-width:900px){.grid{grid-template-columns:1fr}.logo{width:48px;height:48px}.hero h1{font-size:20px}.wordmap{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header class="container">
    <div class="brand">
      <div class="logo">MC</div>
      <div>
        <div style="font-weight:800">Mathcloud Tutorial</div>
        <div style="font-size:12px;color:var(--muted)">Marshall Jacob â€” Grade 5 English (Week 2)</div>
      </div>
    </div>
    <nav>
      <a href="#spelling">Spelling</a>
      <a href="#reading">Reading</a>
      <a href="#vocab">Vocabulary</a>
      <a href="#examples">Examples</a>
      <a href="#assessment">Assessment</a>
    </nav>
  </header>

  <main class="container">
    <section class="hero card">
      <div style="display:flex;justify-content:space-between;gap:12px;align-items:center;flex-wrap:wrap">
        <div>
          <h1>Week 2 â€” Comprehensive Self-Tutoring: Word Building & Fluency</h1>
          <div class="meta">Silent letters, prefixes & suffixes, homophones, contextual vocabulary, verb tenses and descriptive paragraph practice. Full worked examples, self-checks and a 20-question auto-graded test.</div>
        </div>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="listen-btn" id="readAllBtn" title="Read the lesson aloud">ðŸ”Š Read Aloud</button>
          <button class="cta" id="printBtn">Print / Save PDF</button>
        </div>
      </div>

      <div class="grid">
        <div>
          <!-- Spelling -->
          <article id="spelling" class="card lesson">
            <div class="section-title"><h2>Spelling â€” Silent Letters & Homophones</h2><div class="meta">Deep explanations, many examples</div></div>

            <p><strong>Silent letters</strong> â€” letters written but not pronounced. Common silent letters: <em>k</em> in <strong>kn</strong> (knife, know), <em>b</em> after <em>m</em> (thumb), <em>gh</em> (though), <em>l</em> in <em>alk</em> (talk, walk).</p>

            <div class="rule"><strong>Tip:</strong> For silent letters, don't sound the silent letter. Learn common groups: <code>kn</code>, <code>mb</code>, <code>gh</code>, <code>wr</code>.</div>

            <h3>Worked examples</h3>
            <div class="examples">
              <div class="example"><strong>knife</strong> â€” 'k' is silent: pronounce /naÉªf/. Plural: knives.</div>
              <div class="example"><strong>thumb</strong> â€” 'b' silent: /Î¸ÊŒm/.</div>
              <div class="example"><strong>write</strong> â€” 'w' + 'r': 'w' is pronounced in 'write' (as /raÉªt/), but 'wr' historically had silent w in some words â€” learn by word lists.</div>
            </div>

            <h3 style="margin-top:12px">Homophones â€” words that sound the same but differ in spelling/meaning</h3>
            <div class="rule">Examples: <strong>there / their / they're</strong>, <strong>bare / bear</strong>, <strong>flower / flour</strong>.</div>
            <div class="example">Choose the correct homophone: "The baker used flour/flower to make bread." â†’ correct: flour.</div>

            <hr style="margin:14px 0;border:none;border-top:1px dashed #eef2ff">
            <h3>Instant practice â€” Type answers</h3>
            <div style="display:grid;gap:8px">
              <div><label>1. knife â†’ (plural) <input type="text" id="s1" placeholder="knives"></label></div>
              <div><label>2. thumb â†’ (pronounce silent letter) type the word: <input type="text" id="s2" placeholder="thumb"></label></div>
              <div><label>3. Choose correct homophone: 'I left my ___ (there/their/they're) bag' <input type="text" id="s3" placeholder="their"></label></div>
              <div style="display:flex;gap:8px"><button class="cta" onclick="checkSpellingSection()">Check answers</button><div id="spFeed" style="align-self:center;color:var(--muted)"></div></div>
            </div>

            <details style="margin-top:12px"><summary>Teacher note â€” how to master silent letters</summary>
              <p class="small">Practice by sorting words into lists by silent-letter pattern (kn-, m b-, gh-). Use flashcards and read aloud daily. For homophones, always test meaning in the sentence before choosing the spelling.</p>
            </details>
          </article>

          <!-- Reading -->
          <article id="reading" class="card lesson" style="margin-top:18px">
            <div class="section-title"><h2>Reading & Inference â€” Reading between the lines</h2><div class="meta">Inference, dialogue punctuation, practice</div></div>

            <p><strong>Inference</strong> â€” using clues in the text (words, actions, setting) to work out ideas not directly stated. Tests often ask "Why did...?" or "What can we tell about...?"</p>
            <div class="rule"><strong>How to infer:</strong> underline clues (words or actions), ask 'what does this tell me?' and answer in one short sentence.</div>

            <h3>Dialogue punctuation</h3>
            <p>When a character speaks, use quotation marks. Example: <em>"That's mine," said Sam.</em> The comma stays inside the quotation marks when followed by a dialogue tag.</p>

            <h3>Passage (read & infer)</h3>
            <div class="example" id="passage2">Lina wrapped her jacket tightly and hurried back to the house. She glanced at the dark clouds and fumbled for her umbrella.</div>

            <h4>Questions â€” infer from passage</h4>
            <div class="q-row"><label>1. Why did Lina hurry back? <input type="text" id="r1" placeholder="short answer"></label></div>
            <div class="q-row"><label>2. What weather is coming? <input type="text" id="r2" placeholder="e.g., rain"></label></div>
            <div style="display:flex;gap:8px"><button class="cta" onclick="checkReadingSection()">Check answers</button><div id="rFeed" style="align-self:center;color:var(--muted)"></div></div>

            <details style="margin-top:12px"><summary>Exam tip â€” answering inference questions</summary>
              <p class="small">Use one short sentence that quotes or paraphrases the clue: e.g., 'She saw dark clouds, so it was going to rain.' Examiners reward precise, text-based answers.</p>
            </details>
          </article>

          <!-- Vocabulary -->
          <article id="vocab" class="card lesson" style="margin-top:18px">
            <div class="section-title"><h2>Vocabulary â€” Prefixes & Suffixes</h2><div class="meta">Learn meaning building blocks</div></div>

            <p><strong>Prefixes</strong> â€” added at the start of words to change meaning. Examples: <em>un-</em> (not), <em>re-</em> (again), <em>pre-</em> (before).</p>
            <p><strong>Suffixes</strong> â€” added at the end to change meaning or word class. Examples: <em>-ful</em> (full of), <em>-less</em> (without), <em>-ly</em> (makes an adverb).</p>

            <div class="example"><strong>happy â†’ unhappy</strong> (un- means not). <strong>care â†’ careful</strong> (full of care). <strong>quick â†’ quickly</strong> (adverb).</div>

            <h3 style="margin-top:12px">Word map builder â€” self-tutoring tool</h3>
            <div class="wordmap">
              <div class="wordcard"><label><strong>Word</strong><br><input type="text" id="wm2_word" placeholder="e.g., unhappy"></label></div>
              <div class="wordcard"><label><strong>Parts</strong><br><input type="text" id="wm2_parts" placeholder="prefix/suffix/root"></label></div>
              <div class="wordcard"><label><strong>Meaning</strong><br><input type="text" id="wm2_mean" placeholder="short meaning"></label></div>
              <div class="wordcard"><label><strong>Sentence</strong><br><input type="text" id="wm2_sent" placeholder="short sentence"></label></div>
            </div>
            <div style="display:flex;gap:8px;margin-top:10px"><button class="cta" onclick="buildMap2()">Build Map</button><button class="cta" style="background:#10b981" onclick="clearMap2()">Clear</button></div>
            <div id="map2View" style="margin-top:12px"></div>

            <h3 style="margin-top:12px">Instant practice â€” prefixes</h3>
            <div class="q-row"><label>1. Add 're-' to 'play' â†’ <input type="text" id="v1" placeholder="replay"></label></div>
            <div class="q-row"><label>2. 'care' + '-less' â†’ <input type="text" id="v2" placeholder="careless"></label></div>
            <div style="display:flex;gap:8px"><button class="cta" onclick="checkVocabSection()">Check</button><div id="vFeed" style="align-self:center;color:var(--muted)"></div></div>
          </article>

          <!-- Grammar -->
          <article id="grammar" class="card lesson" style="margin-top:18px">
            <div class="section-title"><h2>Grammar â€” Subject-Verb Agreement & Verb Tenses</h2><div class="meta">Clear rules and practice</div></div>

            <p><strong>Subject-verb agreement:</strong> A singular subject needs a singular verb (She runs). Plural subject needs plural verb (They run).</p>
            <div class="rule">3rd person singular present adds -s: I play / He plays.</div>

            <h3>Verb tenses quick guide</h3>
            <div class="example"><strong>Present:</strong> She writes. <strong>Past:</strong> She wrote. <strong>Future:</strong> She will write.</div>

            <h3 style="margin-top:12px">Practice</h3>
            <div class="q-row"><label>1. (He) _____ (go) to school yesterday â†’ <input type="text" id="g1" placeholder="went"></label></div>
            <div class="q-row"><label>2. They _____ (play) every Saturday â†’ <input type="text" id="g2" placeholder="play"></label></div>
            <div style="display:flex;gap:8px"><button class="cta" onclick="checkGrammarSection()">Check</button><div id="gFeed" style="align-self:center;color:var(--muted)"></div></div>

            <details style="margin-top:12px"><summary>Exam tip â€” subject-verb</summary>
              <p class="small">Find the subject first (who or what). If subject is 'he/she/it' use singular verb (add -s in present). If subject is plural (they/we) use base verb.</p>
            </details>
          </article>

          <!-- Examples -->
          <article id="examples" class="card lesson" style="margin-top:18px">
            <div class="section-title"><h2>More Worked Examples & Counter-examples</h2><div class="meta">Step-by-step reasoning</div></div>

            <div class="example"><strong>Silent letter counter-example:</strong> <em>knife</em> â†’ 'k' silent; compare with <em>knot</em> where 'k' is silent too. Both are learned as whole words.</div>
            <div class="example"><strong>Homophone example:</strong> 'Their' shows possession (their bag). 'There' is a place. 'They're' is 'they are'. Always check grammar.</div>
            <div class="example"><strong>Prefix example:</strong> 'redo' means 'do again'. 'undo' means 'not do' or 'reverse'.</div>
            <div class="example"><strong>Tense example:</strong> 'He goes' (present), 'He went' (past). Irregular verbs must be memorized.</div>
          </article>
        </div>

        <aside class="card sticky">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div><strong>Quick Links</strong><div style="font-size:12px;color:var(--muted)">Jump to sections</div></div>
            <div style="font-size:12px;color:var(--muted)">Marshall Jacob</div>
          </div>

          <div class="accordion">
            <div class="item"><button onclick="toggleItem(event,'tipA')">How Read-Aloud works â–¾</button><div id="tipA" style="display:none;margin-top:8px;color:var(--muted)">Read-Aloud uses browser speech. It reads lesson headings and examples. Use Chrome/Edge for best voice support.</div></div>
            <div class="item"><button onclick="toggleItem(event,'tipB')">Printing & PDF â–¾</button><div id="tipB" style="display:none;margin-top:8px;color:var(--muted)">Use Print to save a PDF or print for offline study.</div></div>
            <div class="item"><button onclick="toggleItem(event,'tipC')">Self-tutoring tips â–¾</button><div id="tipC" style="display:none;margin-top:8px;color:var(--muted)">Do the mini-checks, then revise mistakes before final assessment.</div></div>
          </div>

          <hr style="margin:12px 0;border:none;border-top:1px solid #eef2ff">
          <div>
            <strong>Quick practice</strong>
            <p style="color:var(--muted);font-size:13px">Read aloud for 10 minutes daily â€” pick 2 silent-letter words and 2 homophones to practice every day.</p>
          </div>
        </aside>
      </div>
    </section>

    <!-- Assessment -->
    <section id="assessment" class="card" style="margin-top:18px">
      <div class="section-title"><h2>Assessment â€” 20 Questions (Auto-graded)</h2><div class="meta">Instant scoring, per-question explanations, printable certificate at 70%+</div></div>

      <form id="quiz" onsubmit="event.preventDefault();gradeQuiz()">
        <h3>Section A â€” Spelling (8)</h3>
        <ol>
          <li>knife â†’ <input type="text" name="q1"></li>
          <li>thumb â†’ <input type="text" name="q2"></li>
          <li>their â†’ <input type="text" name="q3"></li>
          <li>flower (homophone) â€” choose: flour/flower â†’ <input type="text" name="q4"></li>
          <li>write (past) â†’ <input type="text" name="q5" placeholder="wrote"></li>
          <li>know â†’ <input type="text" name="q6"></li>
          <li>bear (animal) or bare (exposed) â€” choose: <input type="text" name="q7"></li>
          <li>ghost â†’ <input type="text" name="q8"></li>
        </ol>

        <h3>Section B â€” Reading & Inference (4)</h3>
        <ol start="9">
          <li>Passage: "Lina wrapped her jacket tightly and hurried back to the house." Q: Why did Lina hurry back? <input type="text" name="q9"></li>
          <li>From same passage: What is Lina likely to do next? <input type="text" name="q10"></li>
          <li>Dialogue punctuation: Fix this: "Stop said Mark" â†’ <input type="text" name="q11"></li>
          <li>Insert comma: I ate fish chips and peas â†’ <input type="text" name="q12"></li>
        </ol>

        <h3>Section C â€” Vocabulary (4)</h3>
        <ol start="13">
          <li>unhappy â€” prefix 'un' means: <input type="text" name="q13"></li>
          <li>careless â€” suffix '-less' means: <input type="text" name="q14"></li>
          <li>replay â€” prefix 're' means: <input type="text" name="q15"></li>
          <li>quickly â€” what word class is this? (noun/verb/adverb/adjective) <input type="text" name="q16"></li>
        </ol>

        <h3>Section D â€” Grammar (3)</h3>
        <ol start="17">
          <li>He (go) to the park yesterday â†’ past form: <input type="text" name="q17"></li>
          <li>She (be) happy every day â†’ present form (she): <input type="text" name="q18"></li>
          <li>The dogs (bark) loudly â†’ present plural: <input type="text" name="q19"></li>
        </ol>

        <h3>Section E â€” Writing (1)</h3>
        <div class="q-row" style="margin-top:10px">
          <label>20. Write 3â€“5 sentences describing a fun day. (Aim 40+ words) <br><textarea name="q20" rows="4"></textarea></label>
        </div>

        <div style="display:flex;gap:8px;margin-top:12px"><button class="cta" type="submit">Submit & Grade</button><button type="button" onclick="showModelAnswers()" class="cta" style="background:#f59e0b">Show model answers</button></div>
      </form>

      <div id="quizResult" style="margin-top:12px"></div>
      <div id="certArea" style="margin-top:12px"></div>
    </section>

    <footer>
      <div style="font-weight:700">Marshall Jacob â€” Mathcloud Tutorial</div>
      <div style="font-size:13px;color:var(--muted)">Week 2 â€” Self-tutoring: Word Building & Fluency</div>
    </footer>
  </main>

<script>
  // Utilities
  function toggleItem(e,id){
    const el=document.getElementById(id);
    el.style.display = el.style.display === 'none' ? 'block' : 'none';
  }

  // Read Aloud
  document.getElementById('readAllBtn').addEventListener('click',()=>{
    const parts=[];
    const lessons = document.querySelectorAll('.lesson');
    lessons.forEach(s=>{
      const h = s.querySelector('h2');
      if(h) parts.push(h.innerText + '.');
      const nodes = s.querySelectorAll('p, .example, .rule');
      nodes.forEach(n=>{ parts.push(n.innerText + '.'); });
    });
    speakText(parts.join(' '));
  });
  function speakText(txt){
    if(!('speechSynthesis' in window)){alert('Speech not supported. Use Chrome or Edge.'); return;}
    window.speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(txt);
    u.rate = 0.95; u.pitch = 1; u.volume = 1;
    window.speechSynthesis.speak(u);
  }
  // Print
  document.getElementById('printBtn').addEventListener('click',()=>window.print());

  // SECTION: Spelling checks
  function checkSpellingSection(){
    const a1=(document.getElementById('s1').value||'').trim().toLowerCase();
    const a2=(document.getElementById('s2').value||'').trim().toLowerCase();
    const a3=(document.getElementById('s3').value||'').trim().toLowerCase();
    const out=[];
    out.push(a1==='knives' || a1==='knifes' ? '1: ok' : '1: expected knives');
    out.push(a2==='thumb' ? '2: ok' : '2: expected thumb');
    out.push((a3==='their' || a3==="they're" || a3==='there') ? (a3==='their' ? '3: correct (their)' : `3: '${a3}' is different â€” check meaning`) : '3: expected their');
    document.getElementById('spFeed').innerText = out.join(' â€¢ ');
    updateProgress();
  }

  // READING: inference checks
  function checkReadingSection(){
    const r1=(document.getElementById('r1').value||'').trim().toLowerCase();
    const r2=(document.getElementById('r2').value||'').trim().toLowerCase();
    const out=[];
    if(r1.includes('rain') || r1.includes('cold') || r1.includes('storm') || r1.includes('back to house')) out.push('1: good â€” Lina hurried because of bad weather or to get inside');
    else out.push('1: expected answer: she hurried because of dark clouds / rain likely');
    if(r2.includes('rain')||r2.includes('storm')||r2.includes('umbrella')) out.push('2: good');
    else out.push('2: expected: rain / storm / bad weather');
    document.getElementById('rFeed').innerText = out.join(' â€¢ ');
    updateProgress();
  }

  // VOCAB: build word map
  function buildMap2(){
    const w=document.getElementById('wm2_word').value.trim();
    const parts=document.getElementById('wm2_parts').value.trim();
    const mean=document.getElementById('wm2_mean').value.trim();
    const sent=document.getElementById('wm2_sent').value.trim();
    if(!w){alert('Type a word');return}
    const html = `<div style="padding:12px;border-radius:8px;border:1px solid #e6f0ff;background:linear-gradient(90deg,#fff,#f8fbff)">
      <div style="font-weight:700">${escapeHtml(w)}</div>
      <div style="font-size:13px;color:var(--muted)"><strong>Parts:</strong> ${escapeHtml(parts||'â€”')}<br><strong>Meaning:</strong> ${escapeHtml(mean||'â€”')}</div>
      <div style="margin-top:8px;font-style:italic">Example: ${escapeHtml(sent||('The '+w+' helped her learn.'))}</div>
    </div>`;
    document.getElementById('map2View').innerHTML = html;
    updateProgress();
  }
  function clearMap2(){document.getElementById('wm2_word').value='';document.getElementById('wm2_parts').value='';document.getElementById('wm2_mean').value='';document.getElementById('wm2_sent').value='';document.getElementById('map2View').innerHTML='';}
  function checkVocabSection(){
    const v1=(document.getElementById('v1').value||'').trim().toLowerCase();
    const v2=(document.getElementById('v2').value||'').trim().toLowerCase();
    const out=[];
    out.push(v1==='replay' || v1==='re-play' ? '1: ok' : '1: expected replay');
    out.push(v2==='careless' ? '2: ok' : '2: expected careless');
    document.getElementById('vFeed').innerText = out.join(' â€¢ ');
    updateProgress();
  }

  // GRAMMAR checks
  function checkGrammarSection(){
    const g1=(document.getElementById('g1').value||'').trim().toLowerCase();
    const g2=(document.getElementById('g2').value||'').trim().toLowerCase();
    const out=[];
    out.push(g1==='went' ? '1: correct' : '1: expected went');
    out.push(g2==='play' || g2==='plays' ? (g2==='play'?'2: correct (they play)':'2: check subject â€” they play') : '2: expected play');
    document.getElementById('gFeed').innerText = out.join(' â€¢ ');
    updateProgress();
  }

  // HELPERS
  function escapeHtml(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');}
  function updateProgress(){
    // simple local progress indicator based on some activity flags
    let done=0, steps=6;
    if(document.getElementById('spFeed') && document.getElementById('spFeed').innerText) done++;
    if(document.getElementById('rFeed') && document.getElementById('rFeed').innerText) done++;
    if(document.getElementById('map2View') && document.getElementById('map2View').innerText) done++;
    if(document.getElementById('vFeed') && document.getElementById('vFeed').innerText) done++;
    if(document.getElementById('gFeed') && document.getElementById('gFeed').innerText) done++;
    if(document.getElementById('quizResult') && document.getElementById('quizResult').innerText) done++;
    const pct = Math.round((done/steps)*100);
    // show on top-right sticky (append small progress if needed)
    let pEl = document.getElementById('progressBadge');
    if(!pEl){
      pEl = document.createElement('div'); pEl.id='progressBadge';
      pEl.style.position='fixed'; pEl.style.right='18px'; pEl.style.bottom='18px'; pEl.style.background='#fff'; pEl.style.border='1px solid #eef2ff';
      pEl.style.padding='8px 10px'; pEl.style.borderRadius='10px'; pEl.style.boxShadow='0 6px 18px rgba(0,0,0,0.06)'; pEl.style.fontSize='13px';
      document.body.appendChild(pEl);
    }
    pEl.innerText = `Progress: ${pct}%`;
  }

  // QUIZ grading
  function gradeQuiz(){
    const form = document.getElementById('quiz');
    const data = new FormData(form);

    const answers = {
      q1:'knives', q2:'thumb', q3:'their', q4:'flour', q5:'wrote', q6:'know', q7:'bear', q8:'ghost',
      q9:'she saw dark clouds/it was going to rain', q10:'she will get umbrella/go inside', q11:'"Stop," said Mark.', q12:',',
      q13:'not', q14:'without', q15:'again', q16:'adverb',
      q17:'went', q18:'is', q19:'bark' // for dogs (they) bark
    };

    let total=20, score=0, details=[];
    // 1-8 spelling/homophone/silent checks (flexible)
    for(let i=1;i<=8;i++){
      const k='q'+i;
      let given=(data.get(k)||'').toString().trim().toLowerCase();
      if(!given){ details.push(`${i}: no answer`); continue; }
      if(k==='q1'){ if(given==='knives') {score++; details.push(`${i}: correct (knives)`)} else details.push(`${i}: expected knives`); }
      else if(k==='q2'){ if(given==='thumb') {score++; details.push(`${i}: correct`)} else details.push(`${i}: expected thumb`); }
      else if(k==='q3'){ if(given==='their') {score++; details.push(`${i}: correct (their)`)} else details.push(`${i}: expected their`); }
      else if(k==='q4'){ if(given==='flour') {score++; details.push(`${i}: correct (flour)`)} else details.push(`${i}: flour (baking) vs flower (plant)`); }
      else if(k==='q5'){ if(given==='wrote') {score++; details.push(`${i}: correct (wrote)`)} else details.push(`${i}: expected wrote`); }
      else if(k==='q6'){ if(given==='know') {score++; details.push(`${i}: correct`)} else details.push(`${i}: expected know`); }
      else if(k==='q7'){ if(given==='bear' || given==='bare') {score++; details.push(`${i}: accepted (${given}) â€” check meaning`)} else details.push(`${i}: expected bear/bare`); }
      else if(k==='q8'){ if(given==='ghost') {score++; details.push(`${i}: correct`)} else details.push(`${i}: expected ghost`); }
    }

    // 9-12 reading & punctuation
    // q9 inference: accept if mentions rain/dark clouds/hurry inside
    let q9=(data.get('q9')||'').toString().trim().toLowerCase();
    if(q9 && (q9.includes('rain')||q9.includes('cloud')||q9.includes('house')||q9.includes('umbrella'))){ score++; details.push('9: good inference'); } else details.push('9: expected inference about rain / dark clouds');

    let q10=(data.get('q10')||'').toString().trim().toLowerCase();
    if(q10 && (q10.includes('umbrella')||q10.includes('go inside')||q10.includes('seek shelter'))){ score++; details.push('10: good'); } else details.push('10: expected she will take shelter/umbrella');

    // q11 dialogue punctuation: expect quotes and comma
    let q11=(data.get('q11')||'').toString().trim();
    if(q11.includes('"') && (q11.includes(',') || q11.includes('said'))) { score++; details.push('11: punctuation ok'); } else details.push('11: expected "Stop," said Mark.');

    // q12 comma insertion
    let q12=(data.get('q12')||'').toString().trim();
    if(q12.includes(',')){ score++; details.push('12: comma present'); } else details.push('12: add a comma between items');

    // 13-16 vocabulary
    let q13=(data.get('q13')||'').toString().trim().toLowerCase();
    if(q13==='not' || q13==='not' ) { score++; details.push('13: correct (un = not)'); } else details.push('13: expected "not"');

    let q14=(data.get('q14')||'').toString().trim().toLowerCase();
    if(q14.includes('without') || q14==='without') { score++; details.push('14: correct (-less = without)'); } else details.push('14: expected "without"');

    let q15=(data.get('q15')||'').toString().trim().toLowerCase();
    if(q15==='again' || q15.includes('again')){ score++; details.push('15: correct (re- = again)'); } else details.push('15: expected "again"');

    let q16=(data.get('q16')||'').toString().trim().toLowerCase();
    if(q16==='adverb' || q16==='adverb.') { score++; details.push('16: correct (quickly is an adverb)'); } else details.push('16: expected adverb');

    // 17-19 grammar
    let q17=(data.get('q17')||'').toString().trim().toLowerCase();
    if(q17==='went'){ score++; details.push('17: correct (went)'); } else details.push('17: expected went');

    let q18=(data.get('q18')||'').toString().trim().toLowerCase();
    if(q18==='is' || q18==='is.' || q18==='is') { score++; details.push('18: correct (she is)'); } else details.push('18: expected is');

    let q19=(data.get('q19')||'').toString().trim().toLowerCase();
    // dogs bark (plural subject) accept 'bark' or 'bark loudly'
    if(q19.startsWith('bark') || q19.includes('bark')){ score++; details.push('19: correct (dogs bark)'); } else details.push('19: expected "bark"');

    // 20 writing: basic auto-check for word count & sentences
    let q20=(data.get('q20')||'').toString().trim();
    const words = q20.split(/\s+/).filter(Boolean).length;
    const sentences = q20.split(/[.!?]+/).filter(s=>s.trim().length>0).length;
    if(words>=40 && sentences>=3){ score++; details.push('20: paragraph length & sentences good'); } else if (words>=25 && sentences>=2){ details.push('20: paragraph acceptable but aim 40+ words for higher marks'); } else { details.push('20: paragraph too short â€” aim 40+ words and 3+ sentences'); }

    const pct = Math.round((score/total)*100);
    const pass = pct >= 70;

    // build feedback display
    const resultHtml = `<div style="padding:12px;border-radius:8px;background:#fff;border:1px solid #eef2ff">
      <strong>Your score: ${score}/${total} (${pct}%)</strong>
      <div style="margin-top:8px;color:var(--muted);font-size:13px">
        ${details.map(d=>escapeHtml(d)).join('<br>')}
      </div></div>`;
    document.getElementById('quizResult').innerHTML = resultHtml;

    // certificate if pass
    if(pass){
      const certHtml = `<div style="margin-top:12px;padding:12px;border-radius:8px;background:#fff;border:1px dashed #e6f0ff">
        <h3 style="margin:6px 0">Certificate of Completion</h3>
        <div class="small">This certifies that the student has completed Week 2 â€” Mathcloud Tutorial (Marshall Jacob)</div>
        <div style="margin-top:8px"><strong>Score:</strong> ${pct}%</div>
        <div style="margin-top:8px;color:var(--muted);font-size:13px">${new Date().toLocaleDateString()}</div>
      </div>`;
      document.getElementById('certArea').innerHTML = certHtml;
      document.getElementById('printBtn').innerText = 'Print / Save PDF (includes certificate)';
    } else {
      document.getElementById('certArea').innerHTML = '';
    }

    updateProgress();
  }

  function showModelAnswers(){
    alert('Model answers (examples):\n1 knives 2 thumb 3 their 4 flour 5 wrote 6 know 7 bear 8 ghost\n9: because dark clouds/it might rain 10: take umbrella/go inside 11: \"Stop,\" said Mark. 12: I ate fish, chips, and peas.\n13: not 14: without 15: again 16: adverb\n17: went 18: is 19: bark\n20: model paragraph should be 40+ words and 3+ sentences.');
  }
</script>
</body>
</html>