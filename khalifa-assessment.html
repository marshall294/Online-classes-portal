<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mathcloud Tutorials | Year 8 Mathematics Assessment</title>
  <style>
    body{font-family:Arial,Helvetica,sans-serif;background:#f4f7fb;margin:0}
    h1{background:#2d6cdf;color:#fff;text-align:center;padding:20px;margin:0}
    .container{max-width:900px;margin:30px auto;background:#fff;padding:30px;
      border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,.1)}
    input[type=text]{width:100%;padding:10px;margin:10px 0;border:1px solid #ccc;border-radius:6px}
    .question{margin-bottom:20px;padding:10px 0;border-bottom:1px solid #eee}
    .question p{font-weight:bold}
    textarea{width:100%;border:1px solid #ccc;border-radius:6px;padding:8px;resize:vertical}
    button{background:#2d6cdf;color:#fff;padding:12px 20px;border:none;border-radius:6px;
      cursor:pointer;font-size:16px;display:block;margin:20px auto}
    button:hover{background:#1e4eb8}
    #result{text-align:center;font-size:18px;margin-top:20px;color:#333;font-weight:bold}
  </style>
</head>
<body>
  <h1>Mathcloud Tutorials<br>Year 8 Mathematics Assessment</h1>

  <div class="container">
    <label>Enter your full name:</label>
    <input type="text" id="studentName" placeholder="e.g. Sarah Johnson" required>
    <div id="quiz"></div>
    <button id="submitBtn">Submit Answers</button>
    <p id="result"></p>
  </div>

  <!-- use ES modules with Firebase v10+ -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
    import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";

    // your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyAFsHg9fK6IDnHbuxmBleEfIIfVGsuLDik",
      authDomain: "profile-b825d.firebaseapp.com",
      projectId: "profile-b825d",
      storageBucket: "profile-b825d.firebasestorage.app",
      messagingSenderId: "925276859161",
      appId: "1:925276859161:web:194c60f6dbd9f1ef8bf388"
    };

    const app = initializeApp(firebaseConfig);
    const db  = getFirestore(app);

    // few sample questions – replace or extend to 50
const questions = [
  {q:"1. What is 12 × 8?",options:["96","84","108","88"],answer:"96"},
  {q:"2. Simplify: 3x + 4x =",options:["7x","12x","x²","x+7"],answer:"7x"},
  {q:"3. Area of triangle (base 10 cm, height 5 cm)?",options:["50 cm²","25 cm²","15 cm²","100 cm²"],answer:"25 cm²"},
  {q:"4. What is 3/4 of 20?",options:["15","12","10","16"],answer:"15"},
  {q:"5. Solve: 5x = 20",options:["x=4","x=5","x=15","x=25"],answer:"x=4"},
  {q:"6. What is 0.25 as a fraction?",options:["1/4","1/2","3/4","1/5"],answer:"1/4"},
  {q:"7. The mean of 4, 6, 8, 10 is:",options:["7","8","6","9"],answer:"7"},
  {q:"8. 9² equals:",options:["81","18","27","90"],answer:"81"},
  {q:"9. What is the mode of 3, 4, 4, 5, 6?",options:["4","5","3","6"],answer:"4"},
  {q:"10. Simplify: 2a + 3b + 4a =",options:["6a + 3b","5a + 3b","6a + b","7a + 3b"],answer:"6a + 3b"},
  {q:"11. 30% of 200 =",options:["60","30","40","50"],answer:"60"},
  {q:"12. Area of a rectangle (length 8 cm, width 3 cm)?",options:["24 cm²","11 cm²","22 cm²","16 cm²"],answer:"24 cm²"},
  {q:"13. Perimeter of a square with side 5 cm?",options:["20 cm","25 cm","10 cm","15 cm"],answer:"20 cm"},
  {q:"14. What is the next prime number after 11?",options:["13","15","17","12"],answer:"13"},
  {q:"15. Convert 1.5 hours into minutes.",options:["90","60","120","75"],answer:"90"},
  {q:"16. Simplify: 4(x + 2)",options:["4x + 8","4x + 2","x + 8","8x + 4"],answer:"4x + 8"},
  {q:"17. 100 ÷ 4 =",options:["25","40","50","20"],answer:"25"},
  {q:"18. Find the missing angle in a triangle with angles 40° and 60°.",options:["80°","100°","60°","90°"],answer:"80°"},
  {q:"19. The perimeter of a rectangle is 24 cm. Length = 8 cm. Find the width.",options:["4 cm","6 cm","8 cm","10 cm"],answer:"4 cm"},
  {q:"20. Simplify: 9y - 3y =",options:["6y","12y","3y","y"],answer:"6y"},
  {q:"21. What is the value of π (to 2 dp)?",options:["3.14","3.12","3.16","3.10"],answer:"3.14"},
  {q:"22. 15% of 80 =",options:["12","8","10","15"],answer:"12"},
  {q:"23. The coordinates of the origin are:",options:["(0,0)","(1,1)","(0,1)","(1,0)"],answer:"(0,0)"},
  {q:"24. Solve: x + 7 = 12",options:["x=5","x=7","x=12","x=19"],answer:"x=5"},
  {q:"25. The probability of getting a head in a coin toss =",options:["1/2","1/3","1/4","2/3"],answer:"1/2"},
  {q:"26. What is 3³?",options:["27","9","6","12"],answer:"27"},
  {q:"27. Convert 250 cm to metres.",options:["2.5","25","0.25","2500"],answer:"2.5"},
  {q:"28. Mean of 5, 7, 9, 11, 13 =",options:["9","10","8","7"],answer:"9"},
  {q:"29. Simplify: 6a + 2b - 3a =",options:["3a + 2b","9a + 2b","8a - b","6a - b"],answer:"3a + 2b"},
  {q:"30. What is the sum of angles in a triangle?",options:["180°","360°","90°","270°"],answer:"180°"},
  {q:"31. 2/5 of 50 =",options:["20","25","15","10"],answer:"20"},
  {q:"32. Simplify: (x × x)",options:["x²","2x","x","x³"],answer:"x²"},
  {q:"33. 4⁴ =",options:["256","64","16","128"],answer:"256"},
  {q:"34. The radius of a circle is 7 cm. Find its diameter.",options:["14 cm","21 cm","10 cm","7 cm"],answer:"14 cm"},
  {q:"35. Find the median of 2, 4, 6, 8, 10.",options:["6","5","7","4"],answer:"6"},
  {q:"36. Write 0.6 as a percentage.",options:["60%","6%","0.6%","600%"],answer:"60%"},
  {q:"37. Simplify: (2x + 5) - (x + 3)",options:["x + 2","3x + 8","x + 8","2x + 2"],answer:"x + 2"},
  {q:"38. 7 × (-3) =",options:["-21","21","10","-10"],answer:"-21"},
  {q:"39. 1000 ÷ 25 =",options:["40","25","50","20"],answer:"40"},
  {q:"40. Volume of cube with side 3 cm =",options:["27 cm³","9 cm³","12 cm³","18 cm³"],answer:"27 cm³"},
  {q:"41. Which is a multiple of 9?",options:["27","25","26","28"],answer:"27"},
  {q:"42. Perimeter of rectangle 6 cm by 4 cm =",options:["20 cm","24 cm","10 cm","12 cm"],answer:"20 cm"},
  {q:"43. Simplify: 5p + 7q - 2p =",options:["3p + 7q","12p + q","7p + 2q","10p + q"],answer:"3p + 7q"},
  {q:"44. Convert 3/5 to a decimal.",options:["0.6","0.5","0.3","0.8"],answer:"0.6"},
  {q:"45. Area of square with side 9 cm =",options:["81 cm²","18 cm²","36 cm²","45 cm²"],answer:"81 cm²"},
  {q:"46. What is the reciprocal of 4?",options:["1/4","4","2","1/2"],answer:"1/4"},
  {q:"47. A straight angle measures:",options:["180°","90°","45°","360°"],answer:"180°"},
  {q:"48. Expand: (x + 3)(x + 2)",options:["x² + 5x + 6","x² + 6x + 5","x² + 3x + 2","x² + 2x + 3"],answer:"x² + 5x + 6"},
  {q:"49. Simplify: 12 ÷ (3 × 2)",options:["2","4","6","8"],answer:"2"},
  {q:"50. The average of 2, 4, 6, 8, 10, 12 =",options:["7","6","8","9"],answer:"7"}
];


const theory = [
  "1. Explain how to find the area of a trapezium.",
  "2. Define a prime number and give three examples.",
  "3. Describe the steps to solve a linear equation such as 3x + 5 = 14.",
  "4. Explain the difference between mean, median, and mode.",
  "5. Describe how to calculate the volume of a cuboid.",
  "6. Explain what angles in a triangle always add up to and why.",
  "7. Describe how to convert a fraction into a decimal and a percentage."
];


    // render questions
    const quizDiv = document.getElementById("quiz");
    questions.forEach((q,i)=>{
      const div=document.createElement("div");
      div.classList.add("question");
      div.innerHTML=`<p>${q.q}</p>`+
        q.options.map(opt=>`<label><input type="radio" name="q${i}" value="${opt}"> ${opt}</label><br>`).join("");
      quizDiv.appendChild(div);
    });

    quizDiv.innerHTML+="<h3>Theory Questions</h3>";
    theory.forEach((t,i)=>{
      quizDiv.innerHTML+=`<p>${t}</p><textarea id="theory${i}" rows="3"></textarea>`;
    });

    document.getElementById("submitBtn").addEventListener("click",async()=>{
      const name=document.getElementById("studentName").value.trim();
      if(!name){alert("Please enter your name");return;}

      let score=0;
      questions.forEach((q,i)=>{
        const sel=document.querySelector(`input[name="q${i}"]:checked`);
        if(sel&&sel.value===q.answer)score++;
      });

      const theoryAnswers={};
      theory.forEach((t,i)=>{
        theoryAnswers[`theory${i+1}`]=document.getElementById(`theory${i}`).value.trim();
      });

      try{
        await addDoc(collection(db,"year8_math_scores"),{
          name,score,total:questions.length,theoryAnswers,date:new Date().toISOString()
        });
        document.getElementById("result").textContent=
          `✅ Thanks ${name}! You scored ${score}/${questions.length}. Saved to Firebase.`;
        window.scrollTo({top:0,behavior:"smooth"});
      }catch(err){
        alert("Error saving to Firebase: "+err.message);
      }
    });
  </script>
</body>
</html>
