<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MathCloud Technologies - Official Website</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #f8f9fa;
    }
    header {
      background: linear-gradient(135deg, #007bff, #6610f2);
      color: white;
      text-align: center;
      padding: 60px 0;
    }
    section {
      padding: 50px 0;
    }
    footer {
      background: #212529;
      color: white;
      text-align: center;
      padding: 15px;
    }
    .card img {
      border-radius: 10px;
    }
  </style>
</head>
<body>

<header>
  <h1>Welcome to MathCloud Technologies</h1>
  <p>Innovative Web, Mobile, and Cloud Solutions for Modern Businesses</p>
</header>

<!-- About Section -->
<section class="container text-center">
  <h2 class="mb-3 fw-bold">About Us</h2>
  <p class="lead">
    MathCloud Technologies is a leading tech solutions provider specializing in software development, 
    website design, cloud integration, and data-driven business tools that empower growth.
  </p>
</section>

<!-- Products and Services -->
<section class="container">
  <h2 class="text-center mb-4 fw-bold">Our Products & Services</h2>
  <div class="row g-4">
    <div class="col-md-4">
      <div class="card shadow-sm">
        <img src="https://source.unsplash.com/600x400/?website,design" class="card-img-top" alt="Web Design">
        <div class="card-body">
          <h5 class="card-title">Website Design & Development</h5>
          <p>We build responsive, modern, and high-performance websites tailored for your brand and audience.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm">
        <img src="https://source.unsplash.com/600x400/?mobile,app" class="card-img-top" alt="Mobile App">
        <div class="card-body">
          <h5 class="card-title">Mobile App Development</h5>
          <p>Custom Android & iOS apps built to enhance user experience and achieve your business goals.</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card shadow-sm">
        <img src="https://source.unsplash.com/600x400/?cloud,server" class="card-img-top" alt="Cloud Services">
        <div class="card-body">
          <h5 class="card-title">Cloud Services</h5>
          <p>Seamless cloud integration, hosting, and deployment solutions to improve your scalability and security.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Registration Section -->
<section class="container my-5">
  <h2 class="text-center fw-bold mb-3">Register Your Interest</h2>
  <p class="text-center">Please fill the form below to stay connected with us and receive updates.</p>
  <form id="guestForm" class="mx-auto shadow p-4 rounded bg-white" style="max-width: 600px;">
    <div class="mb-3">
      <label class="form-label">Full Name</label>
      <input type="text" id="name" class="form-control" placeholder="Enter your name" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Email</label>
      <input type="email" id="email" class="form-control" placeholder="Enter your email" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Phone Number</label>
      <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number" required>
    </div>

    <!-- Hidden field for detected location -->
    <input type="hidden" id="autoLocation">

    <button type="submit" class="btn btn-primary w-100">Submit</button>
  </form>

  <p id="responseMsg" class="text-center mt-3 fw-bold"></p>
</section>

<footer>
  <p>&copy; 2025 MathCloud Technologies | All Rights Reserved</p>
</footer>

<script>
  // ‚úÖ Firebase Config (replace with your details)
  const firebaseConfig = {
      apiKey: "AIzaSyAFsHg9fK6IDnHbuxmBleEfIIfVGsuLDik",
      authDomain: "profile-b825d.firebaseapp.com",
      projectId: "profile-b825d",
      storageBucket: "profile-b825d.firebasestorage.app",
      messagingSenderId: "925276859161",
      appId: "1:925276859161:web:194c60f6dbd9f1ef8bf388"
    };
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();
  const rtdb = firebase.database();

  const form = document.getElementById("guestForm");
  const responseMsg = document.getElementById("responseMsg");
  const autoLocationInput = document.getElementById("autoLocation");

  // üõ∞Ô∏è Auto Detect Location (hidden)
  fetch("https://ipapi.co/json/")
    .then(res => res.json())
    .then(data => {
      autoLocationInput.value = `${data.city}, ${data.region}, ${data.country_name}`;
    })
    .catch(() => {
      autoLocationInput.value = "Unknown Location";
    });

  // üëÅÔ∏è Count Visitors
  const visitorRef = rtdb.ref("visitors/count");
  visitorRef.transaction(count => (count || 0) + 1);

  // üìù Handle Form Submit
  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const phone = document.getElementById("phone").value.trim();
    const location = autoLocationInput.value;

    try {
      await db.collection("guests").add({
        name, email, phone, location,
        timestamp: Date.now()
      });

      responseMsg.textContent = "‚úÖ Registration successful! Thank you for connecting with us.";
      responseMsg.classList.add("text-success");
      form.reset();
    } catch (error) {
      console.error(error);
      responseMsg.textContent = "‚ùå Something went wrong, please try again.";
      responseMsg.classList.add("text-danger");
    }
  });
</script>

</body>
</html>