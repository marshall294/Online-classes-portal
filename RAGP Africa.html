<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>RAGP Africa üåç - Business Seminar Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="module">
    // ---- Firebase Setup ----
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getFirestore, collection, addDoc, query, where, getDocs } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAFsHg9fK6IDnHbuxmBleEfIIfVGsuLDik",
      authDomain: "profile-b825d.firebaseapp.com",
      projectId: "profile-b825d",
      storageBucket: "profile-b825d.firebasestorage.app",
      messagingSenderId: "925276859161",
      appId: "1:925276859161:web:194c60f6dbd9f1ef8bf388"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // ---- Referral Logic ----
    let referrer = null;
    window.addEventListener("DOMContentLoaded", () => {
      const params = new URLSearchParams(window.location.search);
      referrer = params.get("ref") || null;
    });

    async function registerUser(event) {
      event.preventDefault();

      const name = document.getElementById("name").value.trim();
      const phone = document.getElementById("phone").value.trim();
      const email = document.getElementById("email").value.trim();
      const address = document.getElementById("address").value.trim();
      const referralName = document.getElementById("referralName").value.trim();

      if (!name || !phone || !email || !address || !referralName) {
        alert("Please fill all fields");
        return;
      }

      // Save to Firestore
      const docRef = await addDoc(collection(db, "participants"), {
        name,
        phone,
        email,
        address,
        referralName,
        referredBy: referrer,
        createdAt: new Date()
      });

      // Hide form + show referral link
      document.getElementById("registration-form").classList.add("hidden");
      document.getElementById("thankyou").classList.remove("hidden");

      // Generate referral link
      const referralLink = `${window.location.origin}${window.location.pathname}?ref=${docRef.id}`;
      document.getElementById("referral-link").textContent = referralLink;
      document.getElementById("referral-link").href = referralLink;

      // Fetch referred people
      const q = query(collection(db, "participants"), where("referredBy", "==", docRef.id));
      const querySnapshot = await getDocs(q);
      document.getElementById("referral-count").textContent = querySnapshot.size;
    }

    window.registerUser = registerUser;
  </script>
</head>
<body class="bg-red-700 text-white">
  <!-- Logo Section -->
  <header class="text-center py-6">
    <div class="w-32 h-32 mx-auto rounded-full border-4 border-white flex items-center justify-center overflow-hidden shadow-xl">
      <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQyIz1GA6XNLiHV56pPSGUw8SLdT2QJU0i69a0GysrP3S1MvTC5gnduwok&s=10" alt="RAGP Africa Logo" class="w-24 h-24 object-cover">
    </div>
    <h1 class="text-3xl md:text-4xl font-bold mt-4">RAGP Africa üåç</h1>
    <p class="italic">Realtime Aggregator Gateway Payment Africa</p>
  </header>

  <!-- Hero / Info Section -->
  <section class="px-6 py-10 max-w-4xl mx-auto text-center">
    <h2 class="text-2xl md:text-3xl font-bold mb-4">Exclusive RAGP Africa üåç Business Seminar</h2>
    <p class="mb-4">Are you in <strong>Suleja, Niger State</strong> and her environs?</p>
    <p class="leading-relaxed mb-6">Join us for an inspiring seminar where you‚Äôll learn how to convert daily recharge of <strong>airtime, Data, Cable TV, Electric bills</strong> into wealth. Be your own boss, become the CEO of your own company, and live the life you deserve!</p>
    <div class="bg-white text-red-700 rounded-xl shadow-lg p-6">
      <h3 class="font-semibold text-xl">üìÖ Date: 27th September 2025</h3>
      <h3 class="font-semibold text-xl">‚è∞ Time: 10:00 AM</h3>
    </div>
  </section>

  <!-- Subscription Benefits -->
  <section class="bg-red-800 py-10">
    <div class="max-w-5xl mx-auto px-6 text-center">
      <h2 class="text-2xl md:text-3xl font-bold mb-6">Join the Future of Finance üöÄ</h2>
      <ul class="text-lg space-y-3">
        <li>‚ú® Exclusive insights into the world of digital payments</li>
        <li>‚ú® Updates on the latest fintech trends, news, and breakthroughs</li>
        <li>‚ú® Access to expert analysis and thought leadership</li>
        <li>‚ú® Learn from pioneers and innovators in Africa</li>
        <li>‚ú® Proven strategies to achieve financial independence</li>
      </ul>
    </div>
  </section>

  <!-- Registration Form -->
  <section class="py-16">
    <div class="max-w-xl mx-auto bg-white text-red-700 rounded-2xl shadow-2xl p-8">
      <form id="registration-form" onsubmit="registerUser(event)">
        <h2 class="text-2xl font-bold mb-4 text-center">Register Now</h2>
        <input id="name" type="text" placeholder="Full Name" class="w-full p-3 border rounded-lg mb-3" required>
        <input id="phone" type="text" placeholder="Phone Number" class="w-full p-3 border rounded-lg mb-3" required>
        <input id="email" type="email" placeholder="Email Address" class="w-full p-3 border rounded-lg mb-3" required>
        <input id="address" type="text" placeholder="Home Address" class="w-full p-3 border rounded-lg mb-3" required>
        <input id="referralName" type="text" placeholder="Referral Name" class="w-full p-3 border rounded-lg mb-3" required>
        <button type="submit" class="w-full bg-red-700 text-white py-3 rounded-lg font-semibold hover:bg-red-800 transition">Submit Registration</button>
      </form>

      <!-- Thank You + Referral -->
      <div id="thankyou" class="hidden text-center">
        <h2 class="text-xl font-semibold mb-2">üéâ Thanks for registering!</h2>
        <p class="mb-2">Share your unique referral link:</p>
        <a id="referral-link" href="#" target="_blank" class="block bg-gray-100 p-2 rounded-lg break-all text-blue-600 underline"></a>
        <p class="mt-4 font-medium">People you referred: <span id="referral-count">0</span></p>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-red-900 py-6 text-center text-gray-200">
    <p>&copy; 2025 RAGP Africa üåç. All Rights Reserved.</p>
  </footer>
</body>
</html>
